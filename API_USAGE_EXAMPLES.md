# API Usage Examples and Documentation\n\nThis document provides examples and documentation for the Tutor Persona & Teaching features of the Learning Service.\n\n## Base URL\nAll API endpoints are relative to:\n```\nhttp://localhost:8000\n```\n\n## Tutor Selection Endpoints\n\n### List Available Tutors\nGet a list of all available tutor personas.\n\n**Endpoint:** `GET /tutor/`\n\n**Example Request:**\n```bash\ncurl -X GET \"http://localhost:8000/tutor/\"\n```\n\n**Example Response:**\n```json\n[\n  {\n    \"tutor_id\": \"friendly_alice\",\n    \"name\": \"Friendly Alice\",\n    \"character_style\": \"friendly\",\n    \"humor_level\": \"medium\",\n    \"tone\": \"encouraging\",\n    \"complexity\": \"simple\",\n    \"description\": \"A warm and encouraging tutor who makes learning enjoyable.\",\n    \"avatar_url\": null\n  },\n  {\n    \"tutor_id\": \"professor_bob\",\n    \"name\": \"Professor Bob\",\n    \"character_style\": \"professional\",\n    \"humor_level\": \"low\",\n    \"tone\": \"direct\",\n    \"complexity\": \"complex\",\n    \"description\": \"A knowledgeable professor who delivers content in a structured manner.\",\n    \"avatar_url\": null\n  }\n]\n```\n\n### Select a Tutor\nSelect a tutor for a user based on their preferences.\n\n**Endpoint:** `POST /tutor/select`\n\n**Request Body:**\n```json\n{\n  \"user_id\": \"user_123\",\n  \"character_style\": \"friendly\",\n  \"humor_level\": \"medium\",\n  \"tone\": \"encouraging\",\n  \"complexity\": \"simple\"\n}\n```\n\n**Example Request:**\n```bash\ncurl -X POST \"http://localhost:8000/tutor/select\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"user_id\": \"user_123\",\n    \"character_style\": \"friendly\",\n    \"humor_level\": \"medium\",\n    \"tone\": \"encouraging\",\n    \"complexity\": \"simple\"\n  }'\n```\n\n**Example Response:**\n```json\n{\n  \"tutor\": {\n    \"tutor_id\": \"friendly_alice\",\n    \"name\": \"Friendly Alice\",\n    \"character_style\": \"friendly\",\n    \"humor_level\": \"medium\",\n    \"tone\": \"encouraging\",\n    \"complexity\": \"simple\",\n    \"description\": \"A warm and encouraging tutor who makes learning enjoyable.\",\n    \"avatar_url\": null\n  },\n  \"message\": \"Tutor 'Friendly Alice' has been selected for user 'user_123'\"\n}\n```\n\n### Get User's Assigned Tutor\nGet the tutor currently assigned to a user.\n\n**Endpoint:** `GET /tutor/user/{user_id}`\n\n**Example Request:**\n```bash\ncurl -X GET \"http://localhost:8000/tutor/user/user_123\"\n```\n\n**Example Response:**\n```json\n{\n  \"tutor_id\": \"friendly_alice\",\n  \"name\": \"Friendly Alice\",\n  \"character_style\": \"friendly\",\n  \"humor_level\": \"medium\",\n  \"tone\": \"encouraging\",\n  \"complexity\": \"simple\",\n  \"description\": \"A warm and encouraging tutor who makes learning enjoyable.\",\n  \"avatar_url\": null\n}\n```\n\n## Teaching Session Endpoints\n\n### Start a Teaching Session\nStart a new teaching session for a user.\n\n**Endpoint:** `POST /teaching/session/start`\n\n**Request Body:**\n```json\n{\n  \"user_id\": \"user_123\",\n  \"subject\": \"Math\",\n  \"topic\": \"Algebra\",\n  \"user_level\": \"newbie\"\n}\n```\n\n**Example Request:**\n```bash\ncurl -X POST \"http://localhost:8000/teaching/session/start\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"user_id\": \"user_123\",\n    \"subject\": \"Math\",\n    \"topic\": \"Algebra\",\n    \"user_level\": \"newbie\"\n  }'\n```\n\n**Example Response:**\n```json\n{\n  \"session_id\": \"session_abc123\",\n  \"subject\": \"Math\",\n  \"topic\": \"Algebra\",\n  \"user_level\": \"newbie\",\n  \"tutor\": {\n    \"tutor_id\": \"friendly_alice\",\n    \"name\": \"Friendly Alice\",\n    \"character_style\": \"friendly\",\n    \"humor_level\": \"medium\",\n    \"tone\": \"encouraging\",\n    \"complexity\": \"simple\",\n    \"description\": \"A warm and encouraging tutor who makes learning enjoyable.\",\n    \"avatar_url\": null\n  },\n  \"current_step\": 1,\n  \"total_steps\": 5,\n  \"lesson_step\": {\n    \"step_number\": 1,\n    \"total_steps\": 5,\n    \"title\": \"Introduction to Algebra\",\n    \"content\": \"Algebra is a branch of mathematics dealing with symbols and the rules for manipulating those symbols...\",\n    \"examples\": [\n      \"If x + 3 = 7, then x = 4\",\n      \"2x - 5 = 15, so x = 10\"\n    ],\n    \"key_points\": [\n      \"Variables represent unknown values\",\n      \"Equations show relationships between expressions\"\n    ],\n    \"estimated_time_min\": 5,\n    \"next_step_preview\": \"In the next step, we'll explore how to solve basic linear equations.\"\n  }\n}\n```\n\n### Deliver a Lesson Step\nDeliver a specific lesson step to the user.\n\n**Endpoint:** `POST /teaching/lesson/step`\n\n**Request Body:**\n```json\n{\n  \"session_id\": \"session_abc123\",\n  \"step_number\": 2\n}\n```\n\n**Example Request:**\n```bash\ncurl -X POST \"http://localhost:8000/teaching/lesson/step\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"session_id\": \"session_abc123\",\n    \"step_number\": 2\n  }'\n```\n\n### Advance to Next Step\nAdvance to the next lesson step in the session.\n\n**Endpoint:** `POST /teaching/session/advance`\n\n**Request Body:**\n```json\n{\n  \"session_id\": \"session_abc123\"\n}\n```\n\n**Example Request:**\n```bash\ncurl -X POST \"http://localhost:8000/teaching/session/advance\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"session_id\": \"session_abc123\"\n  }'\n```\n\n## Evaluation Endpoints\n\n### Evaluate Answer\nEvaluate a user's answer to a question.\n\n**Endpoint:** `POST /evaluation/answer/evaluate`\n\n**Request Body:**\n```json\n{\n  \"user_id\": \"user_123\",\n  \"user_answer\": \"x = 5\",\n  \"correct_answer\": \"x = 5\",\n  \"question_context\": {\n    \"subject\": \"Math\",\n    \"topic\": \"Algebra\",\n    \"concept\": \"Linear Equations\",\n    \"question\": \"Solve for x: x + 2 = 7\"\n  }\n}\n```\n\n**Example Request:**\n```bash\ncurl -X POST \"http://localhost:8000/evaluation/answer/evaluate\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"user_id\": \"user_123\",\n    \"user_answer\": \"x = 5\",\n    \"correct_answer\": \"x = 5\",\n    \"question_context\": {\n      \"subject\": \"Math\",\n      \"topic\": \"Algebra\",\n      \"concept\": \"Linear Equations\",\n      \"question\": \"Solve for x: x + 2 = 7\"\n    }\n  }'\n```\n\n**Example Response:**\n```json\n{\n  \"is_correct\": true,\n  \"score\": 100,\n  \"feedback\": \"Excellent! You correctly solved the linear equation.\",\n  \"explanation\": \"To solve x + 2 = 7, subtract 2 from both sides: x = 7 - 2 = 5\",\n  \"improvement_suggestions\": [\n    \"Try more complex equations with multiple operations\"\n  ]\n}\n```\n\n## Adaptive Learning Endpoints\n\n### Adapt Lesson Path\nAdapt the lesson path based on user's performance.\n\n**Endpoint:** `POST /adaptive/adaptation`\n\n**Request Body:**\n```json\n{\n  \"user_id\": \"user_123\",\n  \"subject\": \"Math\",\n  \"topic\": \"Algebra\",\n  \"current_step\": 2,\n  \"total_steps\": 5\n}\n```\n\n**Example Request:**\n```bash\ncurl -X POST \"http://localhost:8000/adaptive/adaptation\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"user_id\": \"user_123\",\n    \"subject\": \"Math\",\n    \"topic\": \"Algebra\",\n    \"current_step\": 2,\n    \"total_steps\": 5\n  }'\n```\n\n**Example Response:**\n```json\n{\n  \"adaptation_type\": \"normal\",\n  \"message\": \"Your performance is on track. Continue with the normal learning path.\",\n  \"recommended_action\": \"Proceed to the next step\",\n  \"advanced_content\": \"\",\n  \"recommendations\": [\n    \"Keep up the good work\",\n    \"Continue with regular practice\"\n  ],\n  \"continue_path\": true,\n  \"next_step\": 3,\n  \"steps_skipped\": 0\n}\n```\n\n## Error Responses\n\nThe API uses the following error codes:\n\n- `200`: Success\n- `404`: Resource not found\n- `422`: Validation error\n- `500`: Internal server error\n\n### Example Error Response:\n```json\n{\n  \"detail\": \"Tutor not found\"\n}\n```\n\n## Code Samples for Frontend Integration\n\n### JavaScript/React Example:\n\n```javascript\n// Start a teaching session\nasync function startTeachingSession(userId, subject, topic) {\n  try {\n    const response = await fetch('http://localhost:8000/teaching/session/start', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        user_id: userId,\n        subject: subject,\n        topic: topic,\n        user_level: 'newbie'\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Error starting teaching session:', error);\n    throw error;\n  }\n}\n\n// Evaluate an answer\nasync function evaluateAnswer(userId, userAnswer, correctAnswer, questionContext) {\n  try {\n    const response = await fetch('http://localhost:8000/evaluation/answer/evaluate', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        user_id: userId,\n        user_answer: userAnswer,\n        correct_answer: correctAnswer,\n        question_context: questionContext\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error('Error evaluating answer:', error);\n    throw error;\n  }\n}\n```\n\n## Tutor Persona Guide\n\nThe following values are available for tutor persona attributes:\n\n### Character Styles:\n- `friendly` - Approachable and warm\n- `professional` - Formal and structured\n- `funny` - Humorous and light-hearted\n- `motivational` - Encouraging and inspiring\n\n### Humor Levels:\n- `low` - Minimal humor\n- `medium` - Some humor\n- `high` - High humor content\n\n### Tones:\n- `encouraging` - Positive and supportive\n- `direct` - Straightforward and to the point\n- `casual` - Relaxed and informal\n\n### Complexity Levels:\n- `simple` - Basic concepts with clear explanations\n- `moderate` - Some advanced concepts with explanations\n- `complex` - Advanced concepts for experts\n"